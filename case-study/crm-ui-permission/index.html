<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>CRMç³»ç»Ÿå‰ç«¯æƒé™æ§åˆ¶ä¼˜åŒ–å‡çº§æ–¹æ¡ˆ | å®ˆå¾—äº‘å¼€ä¸è§æœˆ</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/2.0.4/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/2.1.4/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/2.1.4/toastr.min.css"><meta name="generator" content="Hexo 4.2.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CRMç³»ç»Ÿå‰ç«¯æƒé™æ§åˆ¶ä¼˜åŒ–å‡çº§æ–¹æ¡ˆ</h1><a id="logo" href="/.">å®ˆå¾—äº‘å¼€ä¸è§æœˆ</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">CRMç³»ç»Ÿå‰ç«¯æƒé™æ§åˆ¶ä¼˜åŒ–å‡çº§æ–¹æ¡ˆ</h1><div class="post-meta">2020-12-25<span> | </span><span class="category"><a href="/categories/Case-Study/">Case Study</a></span></div><a class="disqus-comment-count" data-disqus-identifier="case-study/crm-ui-permission/" href="/case-study/crm-ui-permission/#disqus_thread"></a><div class="post-content"><h2 id="ä¸ºä»€ä¹ˆè¦åšæƒé™æ§åˆ¶ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦åšæƒé™æ§åˆ¶ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åšæƒé™æ§åˆ¶ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦åšæƒé™æ§åˆ¶ï¼Ÿ</h2><p>å½“å‰å‰ç«¯ä»£ç ä¸­æ§åˆ¶ç»„ä»¶æ˜¾ç¤ºæœ‰å‡ ç§æ–¹å¼ï¼š</p>
<h3 id="1-é€šè¿‡-visible-permissions-æ¥å£è¿”å›çš„æƒé™åˆ—è¡¨"><a href="#1-é€šè¿‡-visible-permissions-æ¥å£è¿”å›çš„æƒé™åˆ—è¡¨" class="headerlink" title="1. é€šè¿‡ visible_permissions æ¥å£è¿”å›çš„æƒé™åˆ—è¡¨"></a>1. é€šè¿‡ visible_permissions æ¥å£è¿”å›çš„æƒé™åˆ—è¡¨</h3><ul>
<li>/profile æ¥å£è¿”å›äº†å½“å‰ç™»å½•ç”¨æˆ·çš„åŸºç¡€ä¿¡æ¯ä»¥åŠä¸€ä¸ªé•¿é•¿çš„æƒé™åˆ—è¡¨</li>
</ul>
<img src="/images/case-study/crm-permissions/per.png" alt="å‰ç«¯æƒé™åˆ—è¡¨" style="width:400px;margin:auto;" />


<ul>
<li>æœ‰äº†è¿™ä¸ªåˆ—è¡¨ä»¥åï¼Œå°±å¯ä»¥åœ¨ä»£ç é‡Œè¿™æ ·å»æ§åˆ¶ç»„ä»¶æ˜¾ç¤ºï¼š</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tabs = [</span><br><span class="line">    <span class="comment">// ... some tabs</span></span><br><span class="line">]</span><br><span class="line"><span class="keyword">if</span> (visible_permissions.includes(<span class="string">'tab_entity_lead'</span>)) &#123;</span><br><span class="line">    tabs.push(<span class="xml"><span class="tag">&lt;<span class="name">SomeComponent</span> /&gt;</span></span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¼€å‘ä¸Šçº¿çš„æ—¶å€™ä¸€æ—¶çˆ½ï¼Œä½†æ˜¯æœªæ¥è¦ä¿®æ”¹ï¼ŒæŸ¥é˜…æƒé™ï¼Œå°±ä¼šå¾ˆç—›è‹¦ã€‚<br>äº§å“æƒ³ä¸èµ·æ¥æŸä¸ªè§’è‰²æ˜¯å¦æœ‰æŸä¸ªæƒé™ï¼Œå°±æ¥é—®å¼€å‘ï¼Œå¼€å‘å‘ç°è¿™éƒ¨åˆ†ä»£ç ä¸æ˜¯è‡ªå·±å†™çš„ï¼Œå°±å¼€å§‹å…¨å±€æœï¼Œå‡­æ„Ÿè§‰æ‰¾ã€‚æ‰¾åˆ°åäº§å“è¯´æˆ‘ä»¬è¦ä¿®æ”¹ä¸€ä¸‹â€¦</p>
<h3 id="2-é€šè¿‡-role-id-åˆ¤æ–­æƒé™"><a href="#2-é€šè¿‡-role-id-åˆ¤æ–­æƒé™" class="headerlink" title="2. é€šè¿‡ role_id åˆ¤æ–­æƒé™"></a>2. é€šè¿‡ role_id åˆ¤æ–­æƒé™</h3><ul>
<li>è¿™ä¸ªå°±æ›´è¿‡åˆ†äº†ï¼Œ/profile æ¥å£ä¼šè¿”å›ä¸€ä¸ª <code>roles</code> å­—æ®µï¼Œæ˜¯ä¸€ä¸ªç”¨é€—å·åˆ†éš”çš„è§’è‰²ç»„åˆï¼š <code>roles: &quot;1,3,20&quot;</code></li>
<li>åŒç†åœ¨ä»£ç é‡Œå°±æ˜¯è¿™æ ·æ§åˆ¶ï¼š</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tabs = [</span><br><span class="line">    <span class="comment">// ... some tabs</span></span><br><span class="line">]</span><br><span class="line"><span class="keyword">if</span> (roles.split(<span class="string">','</span>).includes(<span class="string">'1'</span>)) &#123;</span><br><span class="line">    tabs.push(<span class="xml"><span class="tag">&lt;<span class="name">SomeComponent</span> /&gt;</span></span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¹ˆåšå°±è¿æƒé™è§„åˆ™çš„åå­—ä¹Ÿæ²¡æœ‰ï¼Œæ‰€ä»¥æ›´åŠ éš¾æ•´ç†ä¿®æ”¹ã€‚</p>
<p>åŸæœ‰çš„ä¸¤ç§åˆ¤æ–­æ–¹å¼éƒ½æ˜¯åœ¨ä»£ç ä¸­å†™å®šåˆ¤æ–­é€»è¾‘</p>
<ol>
<li>åˆ¤æ–­æ–¹å¼ä¸ç»Ÿä¸€ä¸”å¤ªåˆ†æ•£</li>
<li>ä¿®æ”¹æŸè§’è‰²çš„æƒé™ç»„åˆè¦æ”¹ä»£ç é€»è¾‘ï¼Œæˆæœ¬æ¯”è¾ƒå¤§</li>
<li>ä¸å®¹æ˜“å®šä½åˆ°æŸè§’è‰²æŸæƒé™çš„å½“å‰è¡¨ç°</li>
</ol>
<h2 id="å‰ç«¯æƒé™è®¾è®¡é€»è¾‘"><a href="#å‰ç«¯æƒé™è®¾è®¡é€»è¾‘" class="headerlink" title="å‰ç«¯æƒé™è®¾è®¡é€»è¾‘"></a>å‰ç«¯æƒé™è®¾è®¡é€»è¾‘</h2><p>åˆ†æ•£åœ¨é¡¹ç›®å„å¤„çš„æƒé™åˆ¤æ–­å¿…ç„¶æ˜¯é”™è¯¯çš„æ–¹å‘ï¼Œæƒ³ç»Ÿä¸€å»ç®¡ç†é¡µé¢æ¸²æŸ“ï¼Œæœ€èƒ½æƒ³åˆ°çš„å°±æ˜¯ç”¨ä¸€ä¸ªJSONæ ¼å¼çš„é…ç½®å‘Šè¯‰é¡µé¢è¿™ä¸ªç™»å½•ç”¨æˆ·çš„é¡µé¢å°†ä¼šæ¸²æŸ“æˆä»€ä¹ˆæ ·å­ã€‚</p>
<p><strong>æ‰€ä»¥æ–¹æ¡ˆå°±æ˜¯ï¼š</strong></p>
<ul>
<li><strong>ä¸ºæ¯ä¸ªè§’è‰²è½¬ä¸€ä»½JSONï¼Œå¹¶æä¾›ä¸€ä¸ªUIç•Œé¢å»ç®¡ç†æ§åˆ¶ã€ä¿®æ”¹æ¨¡æ¿ã€‚</strong></li>
<li><strong>æ¯ä¸ªç™»å½•ç”¨æˆ·çš„æƒé™æ˜¯ä»–/å¥¹æ‹¥æœ‰çš„å„ä¸ªè§’è‰²çš„åˆé›†ã€‚</strong></li>
<li><strong>Reactï¼šæ¥å£ç»™æˆ‘ä»€ä¹ˆï¼Œæˆ‘å°±æ¸²æŸ“ä»€ä¹ˆã€‚</strong></li>
</ul>
<p>JSONæ•°æ®çš„å±‚çº§å³ä¸ºå‰ç«¯é¡µé¢ç»„ä»¶çš„å±‚çº§ï¼Œé€šè¿‡éå†æ•°æ®æ¥æ¸²æŸ“åº”è¯¥æ˜¾ç¤ºçš„ç»„ä»¶ã€‚</p>
<p>JSONçš„ç»„æˆä¸ºï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">pages: [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"component_type"</span>: <span class="string">"menu"</span>,</span><br><span class="line">    <span class="string">"contents"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">"component_type"</span>: <span class="string">"menu-page"</span>,</span><br><span class="line">        <span class="string">"contents"</span>: [</span><br><span class="line">          <span class="comment">// ä¸ºç©ºæˆ–å…¶ä»–åŒæ ·æ ¼å¼çš„å¯¹è±¡æ•°æ®</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="string">"id"</span>: <span class="number">4</span>,</span><br><span class="line">        <span class="string">"key"</span>: <span class="string">"dashboard"</span>,</span><br><span class="line">        <span class="string">"meta"</span>: &#123;</span><br><span class="line">          <span class="string">"icon"</span>: <span class="string">"menu_dashboard"</span>,</span><br><span class="line">          <span class="string">"route"</span>: <span class="string">"/dashboard"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"name"</span>: <span class="string">"é¦–é¡µ"</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸ªå¯¹è±¡éƒ½æ‹¥æœ‰ï¼š</p>
<ul>
<li><code>component_type</code>  React ç”¨äºåˆ¤æ–­æ¸²æŸ“çš„ç»„ä»¶ç±»å‹ï¼ˆMenu / Page / Section â€¦ï¼‰</li>
<li><code>contents</code> å­é›†ï¼Œæ‰€åŒ…å«çš„å±‚çº§å…³ç³»</li>
<li><code>id</code> id</li>
<li><code>key</code> React ç”¨äºåˆ¤æ–­æ¸²æŸ“å…·ä½“ç»„ä»¶çš„ key</li>
<li><code>meta</code> å…¶ä»–ä¿¡æ¯</li>
<li><code>name</code> ä¸­æ–‡åç§°</li>
</ul>
<p>é¡µé¢ä¸Šåº”è¯¥æ¸²æŸ“çš„å…ƒç´ å…¨éƒ¨ç”±è¿™ä¸ªæ•°æ®å†³å®šã€‚</p>
<h2 id="æ‹†é¡µé¢ï¼šé¡µé¢ç»„ä»¶å’Œå±‚çº§å®šä¹‰"><a href="#æ‹†é¡µé¢ï¼šé¡µé¢ç»„ä»¶å’Œå±‚çº§å®šä¹‰" class="headerlink" title="æ‹†é¡µé¢ï¼šé¡µé¢ç»„ä»¶å’Œå±‚çº§å®šä¹‰"></a>æ‹†é¡µé¢ï¼šé¡µé¢ç»„ä»¶å’Œå±‚çº§å®šä¹‰</h2><ol>
<li>Menu ï¼ˆcomponent_type: menuï¼‰<ol>
<li>ä¾§è¾¹æ çš„å¤§ç±»ï¼ˆä¸»æ§å°ã€å¸¸ç”¨åŠŸèƒ½ã€ç®¡ç†åŠŸèƒ½ï¼‰</li>
</ol>
</li>
<li>Pageï¼ˆcomponent_type: menu-page/single-pageï¼‰<ol>
<li>è·¯ç”±ï¼Œä¸åŒçš„é¡µé¢ï¼Œ/dashboardã€/workbenchã€â€¦ ç­‰</li>
<li>ä¾§è¾¹æ çš„é…ç½®é¡¹</li>
<li>æ²¡æœ‰æƒé™çš„è·¯ç”±ä¼šè¿”å›404ç•Œé¢</li>
<li>åˆ†ä¸º menu-pageï¼ˆæ ‡å‡†é¡µï¼‰ å’Œ single-pageï¼ˆè¯¦æƒ…é¡µï¼‰</li>
</ol>
</li>
<li>Sectionï¼ˆcomponent_typeï¼šsection-group / sectionï¼‰<ol>
<li>å„é¡µé¢ä¸‹çš„æ ‡ç­¾æ ï¼ˆæ”¯æŒåµŒå¥—ï¼‰</li>
<li>å¿…é¡»æ˜¯ section-group ä½œä¸ºçˆ¶çº§ï¼Œsection ä½œä¸ºå­çº§ï¼Œsection-group ä¸‹åªèƒ½æ˜¯ sectionï¼Œsection ä¸‹å¯ä»¥ç»§ç»­åŠ å…¥ section-group æ¥å®ç°åµŒå¥—</li>
</ol>
</li>
<li>é¦–é¡µç»„ä»¶ ï¼ˆcomponent_type: dashboard-itemï¼‰<ol>
<li>é¦–é¡µä¸ŠæŒ‰æƒé™æ˜¾ç¤ºçš„ç»„ä»¶</li>
</ol>
</li>
<li>Common<ol>
<li>ä»»ä½•ä¸Šé¢æ²¡æœ‰æåˆ°çš„å…¶ä»–éœ€è¦æƒé™çš„å†…å®¹</li>
</ol>
</li>
</ol>
<p>é¡µé¢å±‚çº§ç¤ºæ„å›¾ï¼š<br><img src="/images/case-study/crm-permissions/per-2.png" alt="é¡µé¢å±‚çº§ç¤ºæ„å›¾" /></p>
<h2 id="æ¥å£è®¾è®¡"><a href="#æ¥å£è®¾è®¡" class="headerlink" title="æ¥å£è®¾è®¡"></a>æ¥å£è®¾è®¡</h2><ol>
<li>é¡µé¢ç»„ä»¶å¯é€‰é…ç½®çš„æ¨¡æ¿çš„CRUD <code>GET</code> <code>POST</code></li>
</ol>
<p>é¡µé¢ç»„ä»¶çš„æ¨¡æ¿ç¼–è¾‘ï¼š<br><img src="/images/case-study/crm-permissions/per-3.png" alt="é¡µé¢ç»„ä»¶çš„æ¨¡æ¿ç¼–è¾‘" /></p>
<ol start="2">
<li>å„ä¸ªè§’è‰²æ‰€é…çš„å†…å®¹çš„CRUD <code>GET</code> <code>POST</code></li>
</ol>
<p>è§’è‰²æ‰€æ‹¥æœ‰çš„çš„æƒé™ç¼–è¾‘ï¼š<br><img src="/images/case-study/crm-permissions/per-4.png" alt="è§’è‰²æ‰€æ‹¥æœ‰çš„çš„æƒé™ç¼–è¾‘" /></p>
<ol start="3">
<li>ç”¨æˆ·ç™»å½•åè·å–çš„æ‰€æ‹¥æœ‰è§’è‰²åˆé›†çš„æƒé™é…ç½® <code>GET</code></li>
</ol>
<p>/fe_permissions è¿”å›åŒ…å«å½“å‰ç™»å½•ç”¨æˆ·çš„æ‰€æœ‰é¡µé¢å†…å®¹ï¼ˆJSONï¼‰<br><img src="/images/case-study/crm-permissions/per-5.png" alt="/fe_permissions è¿”å›çš„ JSON æ•°æ®" /></p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>æä¾›äº†ä¸€ç³»åˆ—å†…å®¹çš„ Providersï¼ŒJSON é…ç½®é‡Œç»™å‡ºç»„ä»¶ç±»å‹ï¼Œå°±æŒ‰éœ€æ¸²æŸ“å¯¹åº”çš„å†…å®¹ã€‚</p>
<p>Components Providers<br>â”œâ”€â”€ ContentProvider.jsx<br>â”œâ”€â”€ DashboardProvider.jsx<br>â”œâ”€â”€ PageProvider.jsx<br>â”œâ”€â”€ SectionsProvider.jsx</p>
<p>â””â”€â”€ index.less</p>
<p>ä¸¾ä¾‹ï¼šContentProvider.jsx</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ContentProvider = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;</span><br><span class="line">    content,</span><br><span class="line">    sectionsConfig = &#123;&#125;,</span><br><span class="line">  &#125; = props</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (content.componentType) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'section-group'</span>:</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;SectionsProvider &#123;...sectionsConfig&#125; sections=&#123;content.contents&#125; /&gt;</span><br><span class="line">      )</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'dashboard-item'</span>:</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;DashboardProvider &#123;...props&#125; /&gt;</span><br><span class="line">      )</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>æ²¡æœ‰è¯¥å†…å®¹çš„æ¸²æŸ“æ–¹å¼ &#123;content.componentType&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ContentProvider</span><br></pre></td></tr></table></figure>

<p>SectionProvider.jsx</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SectionsProvider = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;</span><br><span class="line">    sections,</span><br><span class="line">    tabPaneContent,</span><br><span class="line">    tabsConfig = &#123;&#125;,</span><br><span class="line">    customTabName = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;,</span><br><span class="line">  &#125; = props</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Tabs &#123;...tabsConfig&#125; type=<span class="string">'card'</span>&gt;</span><br><span class="line">      &#123;sections.map(<span class="function">(<span class="params">&#123; meta: &#123; scope &#125;, key, name, contents &#125;</span>) =&gt;</span> (</span><br><span class="line">        &lt;TabPane</span><br><span class="line">          key=&#123;scope || key&#125;</span><br><span class="line">          tab=&#123;customTabName(&#123; name, key, scope &#125;) || name&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &#123;<span class="comment">/* è‡ªå®šçš„å†…å®¹ */</span>&#125;</span><br><span class="line">          &#123;tabPaneContent &amp;&amp; tabPaneContent(&#123; <span class="attr">scope</span>: scope || key, key, name &#125;)&#125;</span><br><span class="line">          &#123;<span class="comment">/* æ¥å£é‡Œè¿”å›çš„å†…å®¹ */</span>&#125;</span><br><span class="line">          &#123;contents.map(<span class="function"><span class="params">content</span> =&gt;</span> (</span><br><span class="line">            &lt;ContentProvider</span><br><span class="line">              key=&#123;content.key&#125;</span><br><span class="line">              content=&#123;content&#125;</span><br><span class="line">              sectionsConfig=&#123;&#123;</span><br><span class="line">                ...props,</span><br><span class="line">                tabsConfig: tabsConfig.subConfig,</span><br><span class="line">              &#125;&#125;</span><br><span class="line">            /&gt;</span><br><span class="line">          ))&#125;</span><br><span class="line">        &lt;<span class="regexp">/TabPane&gt;</span></span><br><span class="line"><span class="regexp">      ))&#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>Tabs&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨éå†æ•´ä¸ªJSONé…ç½®æ—¶æ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ã€‚</p>
</div><div class="tags"><a href="/tags/JavaScript/"><i class="fa fa-tag"></i>JavaScript</a><a href="/tags/React/"><i class="fa fa-tag"></i>React</a></div><div class="post-nav"><a class="pre" href="/reading/4.2021-trend/">2021å‰ç«¯è¡Œä¸šå‘å±•è¶‹åŠ¿</a><a class="next" href="/fe/CSS/4.devops-ui/">DevOps UI è®¾è®¡</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">é˜…è¯»è¯„è®ºï¼ˆè¯·ç¡®ä¿ Disqus å¯ä»¥æ­£å¸¸åŠ è½½ï¼‰</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'https://ykzhukian.github.io/case-study/crm-ui-permission/';
    this.page.identifier = 'case-study/crm-ui-permission/';
    this.page.title = 'CRMç³»ç»Ÿå‰ç«¯æƒé™æ§åˆ¶ä¼˜åŒ–å‡çº§æ–¹æ¡ˆ';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//ykzhukian-github-io.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//ykzhukian-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://ykzhukian-github-io.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Case-Study/">Case Study</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/">Development</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Noncence/">Noncence</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Photograph/">Photograph</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Reading-Notes/">Reading Notes</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/DevOps/" style="font-size: 15px;">DevOps</a> <a href="/tags/Tools/" style="font-size: 15px;">Tools</a> <a href="/tags/Read/" style="font-size: 15px;">Read</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/Webpack/" style="font-size: 15px;">Webpack</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/Design/" style="font-size: 15px;">Design</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/noncence/20220202-daily/">PR è¿‡æœŸäº†</a></li><li class="post-list-item"><a class="post-list-link" href="/fe/JavaScript/14.mouse-track/">å‰ç«¯åçˆ¬ï¼šé¼ æ ‡è½¨è¿¹</a></li><li class="post-list-item"><a class="post-list-link" href="/noncence/20220127-daily/">å¬äº†è€æ¿å»ºç¡•çš„ä¸€ä¸ªåˆ†äº«</a></li><li class="post-list-item"><a class="post-list-link" href="/webpack/3.webpack-base/">ä¸€äº› Webpack ç›¸å…³å¤‡å¿˜</a></li><li class="post-list-item"><a class="post-list-link" href="/photo/2.2022-qingdao/">é’å²›è·¨å¹´</a></li><li class="post-list-item"><a class="post-list-link" href="/fe/Engineering/1.private-npm-nexus/">ç§æœ‰ npm ä»“åº“ Nexus & å·¥å…·åº“é…åˆ GitLab è‡ªåŠ¨å‘å¸ƒ</a></li><li class="post-list-item"><a class="post-list-link" href="/reading/7.meituan-micro-fe/">ç¨€åœŸå¤§ä¼šè®°å½•</a></li><li class="post-list-item"><a class="post-list-link" href="/case-study/shield/">ç™¾å§“ç½‘åçˆ¬è™«ç³»ç»Ÿï¼šç¥ç›¾ç®¡ç†åå°</a></li><li class="post-list-item"><a class="post-list-link" href="/case-study/micro-front-end/">å¾®å‰ç«¯åœ¨åŸºç¡€æ¶æ„åº”ç”¨ç³»åˆ—çš„å®è·µ</a></li><li class="post-list-item"><a class="post-list-link" href="/case-study/spider-challenge/">çˆ¬è™«æ”»é˜²æˆ˜ ğŸ•·</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å…¶ä»–é“¾æ¥</i></div><ul></ul><a href="https://github.com/ykzhukian/notebook" title="ä»£ç ç›¸å…³çš„ç¬”è®°" target="_blank">ä»£ç ç›¸å…³çš„ç¬”è®°</a><ul></ul><a href="https://github.com/ykzhukian" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="https://www.instagram.com/kianykz/" title="Instagram" target="_blank">Instagram</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Â© 2022 <a href="/." rel="nofollow">Kian Zhu</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="å¤åˆ¶æˆåŠŸ!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>